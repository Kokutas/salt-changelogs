
Changes for v2015.5.1..upstream/2015.5
--------------------------------------

*Generated at: 2015-05-26T16:38:18Z*

Statistics:

- Total Merges: **42**
- Total Issue references: **15**
- Total PR references: **51**

Changes:


- **PR** `#24136`_: (*rallytime*) Backport `#24104`_ to 2015.5
  @ *2015-05-26T15:58:47Z*

  - **ISSUE** `#23364`_: (*pruiz*) Unable to destroy host using proxmox cloud: There was an error destroying machines: 501 Server Error: Method 'DELETE /nodes/pmx1/openvz/openvz/100' not implemented
  - **PR** `#24104`_: (*pruiz*) Only try to stop a VM if it's not already stopped. (fixes `#23364`_)
    | refs: `#24136`_
  * 89cdf97 Merge pull request `#24136`_ from rallytime/`bp-24104`_
  * c538884 Only try to stop a VM if it's not already stopped. (fixes `#23364`_)

- **PR** `#24135`_: (*rallytime*) Backport `#24083`_ to 2015.5
  @ *2015-05-26T15:58:27Z*

  - **PR** `#24083`_: (*swdream*) fix code block syntax
    | refs: `#24135`_
  * 67c4373 Merge pull request `#24135`_ from rallytime/`bp-24083`_
  * e1d06f9 fix code block syntax

- **PR** `#24131`_: (*jayeshka*) adding states/mysql_user unit test case
  @ *2015-05-26T15:58:10Z*

  * a83371e Merge pull request `#24131`_ from jayeshka/mysql_user-states-unit-test
  * ed1ef69 adding states/mysql_user unit test case

- **PR** `#24130`_: (*jayeshka*) adding states/ntp unit test case
  @ *2015-05-26T15:57:29Z*

  * 1dc1d2a Merge pull request `#24130`_ from jayeshka/ntp-states-unit-test
  * ede4a9f adding states/ntp unit test case

- **PR** `#24128`_: (*jayeshka*) adding states/openstack_config unit test case
  @ *2015-05-26T15:56:08Z*

  * 3943417 Merge pull request `#24128`_ from jayeshka/openstack_config-states-unit-test
  * ca09e0f adding states/openstack_config unit test case

- **PR** `#24127`_: (*jayeshka*) adding states/npm unit test case
  @ *2015-05-26T15:55:18Z*

  * 23f25c4 Merge pull request `#24127`_ from jayeshka/npm-states-unit-test
  * c3ecabb adding states/npm unit test case

- **PR** `#24077`_: (*anlutro*) Change how state_verbose output is filtered
  @ *2015-05-26T15:41:11Z*

  - **ISSUE** `#24009`_: (*hvnsweeting*) state_verbose False summary is wrong
    | refs: `#24077`_
  * 07488a4 Merge pull request `#24077`_ from alprs/fix-outputter_highstate_nonverbose_count
  * 7790408 Change how state_verbose output is filtered

- **PR** `#24119`_: (*jfindlay*) Update contrib docs
  @ *2015-05-26T15:37:01Z*

  * 224820f Merge pull request `#24119`_ from jfindlay/update_contrib_docs
  * fa2d411 update example release branch in contrib docs

  * a0b76b5 clarify git rebase instructions

  * 3517e00 fix contribution docs link typos

  * 651629c backport dev contrib doc updates to 2015.5

- **PR** `#23928`_: (*joejulian*) Add the ability to replace existing certificates
  @ *2015-05-25T19:47:26Z*

  * 5488c4a Merge pull request `#23928`_ from joejulian/2015.5_tls_module_replace_existing
  * 4a4cbdd Add the ability to replace existing certificates

- **PR** `#24078`_: (*jfindlay*) if a charmap is not supplied, set it to the codeset
  @ *2015-05-25T19:39:19Z*

  - **ISSUE** `#23221`_: (*Reiner030*) Debian Jessie: locale.present not working again
    | refs: `#24078`_
  * dd90ef0 Merge pull request `#24078`_ from jfindlay/locale_charmap
  * 5eb97f0 if a charmap is not supplied, set it to the codeset

- **PR** `#24088`_: (*jfindlay*) pkg module integration tests
  @ *2015-05-25T19:39:02Z*

  * 9cec5d3 Merge pull request `#24088`_ from jfindlay/pkg_tests
  * f1bd5ec adding pkg module integration tests

  * 739b2ef rework yumpkg refresh_db so args are not mandatory

- **PR** `#24089`_: (*jfindlay*) allow override of binary file mode on windows
  @ *2015-05-25T19:38:44Z*

  - **ISSUE** `#24052`_: (*twangboy*) v2015.5.1 Changes the way it interprets the minion_master.pub file
    | refs: `#24089`_
  * 517552c Merge pull request `#24089`_ from jfindlay/binary_write
  * b2259a6 allow override of binary file mode on windows

- **PR** `#24092`_: (*jfindlay*) collect scattered contents edits, ensure it's a str
  @ *2015-05-25T19:38:10Z*

  - **ISSUE** `#23973`_: (*mschiff*) state file.managed: setting contents_pillar to a pillar which is a list throws exception instead giving descriptive error message
    | refs: `#24092`_
  * 121ab9f Merge pull request `#24092`_ from jfindlay/file_state
  * cfa0f13 collect scattered contents edits, ensure it's a str

- **PR** `#24112`_: (*The-Loeki*) thin_gen breaks when thinver doesn't exist
  @ *2015-05-25T19:37:47Z*

  * 84e65de Merge pull request `#24112`_ from The-Loeki/patch-1
  * 34646ea thin_gen breaks when thinver doesn't exist

- **PR** `#24108`_: (*jayeshka*) adding states/mysql_query unit test case
  @ *2015-05-25T12:30:48Z*

  * ec509ed Merge pull request `#24108`_ from jayeshka/mysql_query-states-unit-test
  * ec50450 adding states/mysql_query unit test case

- **PR** `#24110`_: (*jayeshka*) adding varnish unit test case
  @ *2015-05-25T12:30:21Z*

  * f2e5d6c Merge pull request `#24110`_ from jayeshka/varnish-unit-test
  * e119889 adding varnish unit test case

- **PR** `#24109`_: (*jayeshka*) adding states/mysql_grants unit test case
  @ *2015-05-25T12:29:53Z*

  * 4fca2b4 Merge pull request `#24109`_ from jayeshka/mysql_grants-states-unit-test
  * 11a93cb adding states/mysql_grants unit test case

- **PR** `#24028`_: (*nleib*) send a disable message to disable puppet
  @ *2015-05-25T04:02:11Z*

  * 6b43c9a Merge pull request `#24028`_ from nleib/2015.5
  * 15f24b4 update format of string in disabled msg

  * 7690e5b remove trailing whitespaces

  * 56a9720 Update puppet.py

  * 9686391 Update puppet.py

  * 33f3d68 send a disable message to disable puppet

- **PR** `#24100`_: (*jfindlay*) adding states/file unit test case
  @ *2015-05-24T05:17:54Z*

  - **PR** `#23963`_: (*jayeshka*) adding states/file unit test case
    | refs: `#24100`_
  * 52c9aca Merge pull request `#24100`_ from jfindlay/merge_23963
  * 7d59deb adding states/file unit test case

- **PR** `#24098`_: (*galet*) Systemd not recognized properly on Oracle Linux 7
  @ *2015-05-24T04:07:31Z*

  - **ISSUE** `#21446`_: (*dpheasant*) check for systemd on Oracle Linux
    | refs: `#24098`_
  * 0eb9f15 Merge pull request `#24098`_ from galet/2015.5
  * 4d6ab21 Systemd not recognized properly on Oracle Linux 7

- **PR** `#24090`_: (*jfindlay*) adding states/mount unit test case
  @ *2015-05-22T23:02:57Z*

  - **PR** `#24062`_: (*jayeshka*) adding states/mount unit test case
    | refs: `#24090`_
  * 8e04db7 Merge pull request `#24090`_ from jfindlay/merge_24062
  * a81a922 adding states/mount unit test case

- **PR** `#24086`_: (*rallytime*) Backport `#22806`_ to 2015.5
  @ *2015-05-22T21:18:20Z*

  - **ISSUE** `#22574`_: (*unicolet*) error when which is not available
    | refs: `#22806`_
  - **PR** `#22806`_: (*jfindlay*) use cmd.run_all instead of cmd.run_stdout
    | refs: `#24086`_
  * c0079f5 Merge pull request `#24086`_ from rallytime/`bp-22806`_
  * f728f55 use cmd.run_all instead of cmd.run_stdout

- **PR** `#24024`_: (*jayeshka*) adding states/mongodb_user unit test case
  @ *2015-05-22T20:53:19Z*

  * 09de253 Merge pull request `#24024`_ from jayeshka/mongodb_user-states-unit-test
  * f31dc92 resolved errors

  * d038b1f adding states/mongodb_user unit test case

- **PR** `#24065`_: (*kiorky*) continue to fix `#23883`_
  @ *2015-05-22T18:59:21Z*

  - **ISSUE** `#23883`_: (*kaithar*) max_event_size seems broken
  * bfd812c Merge pull request `#24065`_ from makinacorpus/real23883
  * 028282e continue to fix `#23883`_

- **PR** `#24029`_: (*kiorky*) Fix providers handling
  @ *2015-05-22T16:56:06Z*

  - **ISSUE** `#24017`_: (*arthurlogilab*) [salt-cloud openstack] TypeError: unhashable type: 'dict' on map creation
    | refs: `#24029`_
  * 429adfe Merge pull request `#24029`_ from makinacorpus/fixproviders
  * 412b39b Fix providers handling

- **PR** `#23936`_: (*jfindlay*) remove unreachable returns in file state
  @ *2015-05-22T16:26:49Z*

  * a42cccc Merge pull request `#23936`_ from jfindlay/file_state
  * ac29c0c also validate file.recurse source parameter

  * 57f7388 remove unreachable returns in file state

- **PR** `#24063`_: (*jayeshka*) removed tuple index error
  @ *2015-05-22T14:58:20Z*

  * 8b69b41 Merge pull request `#24063`_ from jayeshka/mount-states-module
  * b9745d5 removed tuple index error

- **PR** `#24057`_: (*rallytime*) Backport `#22572`_ to 2015.5
  @ *2015-05-22T05:36:25Z*

  - **PR** `#22572`_: (*The-Loeki*) Small docfix for GitPillar
    | refs: `#24057`_
  * 02ac4aa Merge pull request `#24057`_ from rallytime/`bp-22572`_
  * 49aad84 Small docfix for GitPillar

- **PR** `#24040`_: (*rallytime*) Backport `#24027`_ to 2015.5
  @ *2015-05-21T23:43:54Z*

  - **ISSUE** `#23088`_: (*wfhg*) Segfault when adding a Zypper repo on SLES 11.3
    | refs: `#24027`_
  - **PR** `#24027`_: (*wfhg*) Add baseurl to salt.modules.zypper.mod_repo
    | refs: `#24040`_
  * 82de059 Merge pull request `#24040`_ from rallytime/`bp-24027`_
  * 37d25d8 Added baseurl as alias for url and mirrorlist in salt.modules.zypper.mod_repo.

- **PR** `#24039`_: (*rallytime*) Backport `#24015`_ to 2015.5
  @ *2015-05-21T23:43:25Z*

  - **PR** `#24015`_: (*YanChii*) minor improvement of solarisips docs & fix typos
    | refs: `#24039`_
  * d909781 Merge pull request `#24039`_ from rallytime/`bp-24015`_
  * 6bfaa94 minor improovement of solarisips docs & fix typos

- **PR** `#24038`_: (*rallytime*) Backport `#19599`_ to 2015.5
  @ *2015-05-21T23:43:10Z*

  - **ISSUE** `#19598`_: (*fayetted*) ssh_auth.present test=true incorectly reports changes will be made
    | refs: `#19599`_
  - **PR** `#19599`_: (*fayetted*) Fix ssh_auth test mode, compare lines not just key
    | refs: `#24038`_
  * 4a0f254 Merge pull request `#24038`_ from rallytime/`bp-19599`_
  * ea00d3e Fix ssh_auth test mode, compare lines not just key

- **PR** `#24046`_: (*rallytime*) Remove key management test from digital ocean cloud tests
  @ *2015-05-21T22:32:04Z*

  * 42b87f1 Merge pull request `#24046`_ from rallytime/remove_key_test
  * 1d031ca Remove key management test from digital ocean cloud tests

- **PR** `#24044`_: (*cro*) Remove spurious log message, fix typo in doc
  @ *2015-05-21T22:31:49Z*

  * eff54b1 Merge pull request `#24044`_ from cro/pgjsonb
  * de06633 Remove spurious log message, fix typo in doc

- **PR** `#24001`_: (*msteed*) issue `#23883`_
  @ *2015-05-21T20:32:30Z*

  - **ISSUE** `#23883`_: (*kaithar*) max_event_size seems broken
  * ac32000 Merge pull request `#24001`_ from msteed/issue-23883
  * bea97a8 issue `#23883`_

- **PR** `#23995`_: (*kiorky*) Lxc path pre
  @ *2015-05-21T17:26:03Z*

  * f7fae26 Merge pull request `#23995`_ from makinacorpus/lxc_path_pre
  * 319282a lint

  * 1dc67e5 lxc: versionadded

  * fcad7cb lxc: states improvments

  * 644bd72 lxc: more consistence for profiles

  * 139372c lxc: remove merge cruft

  * 725b046 lxc: Repair merge

- **PR** `#24032`_: (*kartiksubbarao*) Update augeas_cfg.py
  @ *2015-05-21T17:03:42Z*

  - **ISSUE** `#16383`_: (*interjection*) salt.states.augeas.change example from docs fails with exception
    | refs: `#24032`_
  * 26d6851 Merge pull request `#24032`_ from kartiksubbarao/augeas_insert_16383
  * 3686dcd Update augeas_cfg.py

- **PR** `#24025`_: (*jayeshka*) adding timezone unit test case
  @ *2015-05-21T16:50:53Z*

  * 55c9245 Merge pull request `#24025`_ from jayeshka/timezone-unit-test
  * 1ec33e2 removed assertion error

  * 16ecb28 adding timezone unit test case

- **PR** `#24023`_: (*jayeshka*) adding states/mongodb_database unit test case
  @ *2015-05-21T16:49:17Z*

  * e243617 Merge pull request `#24023`_ from jayeshka/mongodb_database-states-unit-test
  * 5a9ac7e adding states/mongodb_database unit test case

- **PR** `#24022`_: (*jayeshka*) adding states/modjk_worker unit test case
  @ *2015-05-21T16:48:29Z*

  * b377bd9 Merge pull request `#24022`_ from jayeshka/modjk_worker-states-unit-test
  * 05c0a98 adding states/modjk_worker unit test case

- **PR** `#24005`_: (*msteed*) issue `#23776`_
  @ *2015-05-21T01:55:34Z*

  - **ISSUE** `#23776`_: (*enblde*) Presence change events constantly reporting all minions as new in 2015.5
  * 701c51b Merge pull request `#24005`_ from msteed/issue-23776
  * 62e67d8 issue `#23776`_

- **PR** `#23996`_: (*neogenix*) iptables state generates a 0 position which is invalid in iptables cli `#23950`_
  @ *2015-05-20T22:44:27Z*

  - **ISSUE** `#23950`_: (*neogenix*) iptables state generates a 0 position which is invalid in iptables cli
    | refs: `#23996`_
  * 17b7c0b Merge pull request `#23996`_ from neogenix/2015.5-23950
  * ad417a5 fix for `#23950`_

- **PR** `#23994`_: (*rallytime*) Skip the gpodder pkgrepo test for Ubuntu 15 - they don't have vivid ppa up yet
  @ *2015-05-20T21:18:21Z*

  * 4cb8773 Merge pull request `#23994`_ from rallytime/skip_test_ubuntu_15
  * 9e0ec07 Skip the gpodder pkgrepo test - they don't have vivid ppa up yet


.. _`#16383`: https://github.com/saltstack/salt/issues/16383
.. _`#19598`: https://github.com/saltstack/salt/issues/19598
.. _`#19599`: https://github.com/saltstack/salt/pull/19599
.. _`#21446`: https://github.com/saltstack/salt/issues/21446
.. _`#22572`: https://github.com/saltstack/salt/pull/22572
.. _`#22574`: https://github.com/saltstack/salt/issues/22574
.. _`#22806`: https://github.com/saltstack/salt/pull/22806
.. _`#23088`: https://github.com/saltstack/salt/issues/23088
.. _`#23221`: https://github.com/saltstack/salt/issues/23221
.. _`#23364`: https://github.com/saltstack/salt/issues/23364
.. _`#23776`: https://github.com/saltstack/salt/issues/23776
.. _`#23883`: https://github.com/saltstack/salt/issues/23883
.. _`#23928`: https://github.com/saltstack/salt/pull/23928
.. _`#23936`: https://github.com/saltstack/salt/pull/23936
.. _`#23950`: https://github.com/saltstack/salt/issues/23950
.. _`#23963`: https://github.com/saltstack/salt/pull/23963
.. _`#23973`: https://github.com/saltstack/salt/issues/23973
.. _`#23994`: https://github.com/saltstack/salt/pull/23994
.. _`#23995`: https://github.com/saltstack/salt/pull/23995
.. _`#23996`: https://github.com/saltstack/salt/pull/23996
.. _`#24001`: https://github.com/saltstack/salt/pull/24001
.. _`#24005`: https://github.com/saltstack/salt/pull/24005
.. _`#24009`: https://github.com/saltstack/salt/issues/24009
.. _`#24015`: https://github.com/saltstack/salt/pull/24015
.. _`#24017`: https://github.com/saltstack/salt/issues/24017
.. _`#24022`: https://github.com/saltstack/salt/pull/24022
.. _`#24023`: https://github.com/saltstack/salt/pull/24023
.. _`#24024`: https://github.com/saltstack/salt/pull/24024
.. _`#24025`: https://github.com/saltstack/salt/pull/24025
.. _`#24027`: https://github.com/saltstack/salt/pull/24027
.. _`#24028`: https://github.com/saltstack/salt/pull/24028
.. _`#24029`: https://github.com/saltstack/salt/pull/24029
.. _`#24032`: https://github.com/saltstack/salt/pull/24032
.. _`#24038`: https://github.com/saltstack/salt/pull/24038
.. _`#24039`: https://github.com/saltstack/salt/pull/24039
.. _`#24040`: https://github.com/saltstack/salt/pull/24040
.. _`#24044`: https://github.com/saltstack/salt/pull/24044
.. _`#24046`: https://github.com/saltstack/salt/pull/24046
.. _`#24052`: https://github.com/saltstack/salt/issues/24052
.. _`#24057`: https://github.com/saltstack/salt/pull/24057
.. _`#24062`: https://github.com/saltstack/salt/pull/24062
.. _`#24063`: https://github.com/saltstack/salt/pull/24063
.. _`#24065`: https://github.com/saltstack/salt/pull/24065
.. _`#24077`: https://github.com/saltstack/salt/pull/24077
.. _`#24078`: https://github.com/saltstack/salt/pull/24078
.. _`#24083`: https://github.com/saltstack/salt/pull/24083
.. _`#24086`: https://github.com/saltstack/salt/pull/24086
.. _`#24088`: https://github.com/saltstack/salt/pull/24088
.. _`#24089`: https://github.com/saltstack/salt/pull/24089
.. _`#24090`: https://github.com/saltstack/salt/pull/24090
.. _`#24092`: https://github.com/saltstack/salt/pull/24092
.. _`#24098`: https://github.com/saltstack/salt/pull/24098
.. _`#24100`: https://github.com/saltstack/salt/pull/24100
.. _`#24104`: https://github.com/saltstack/salt/pull/24104
.. _`#24108`: https://github.com/saltstack/salt/pull/24108
.. _`#24109`: https://github.com/saltstack/salt/pull/24109
.. _`#24110`: https://github.com/saltstack/salt/pull/24110
.. _`#24112`: https://github.com/saltstack/salt/pull/24112
.. _`#24119`: https://github.com/saltstack/salt/pull/24119
.. _`#24127`: https://github.com/saltstack/salt/pull/24127
.. _`#24128`: https://github.com/saltstack/salt/pull/24128
.. _`#24130`: https://github.com/saltstack/salt/pull/24130
.. _`#24131`: https://github.com/saltstack/salt/pull/24131
.. _`#24135`: https://github.com/saltstack/salt/pull/24135
.. _`#24136`: https://github.com/saltstack/salt/pull/24136
.. _`bp-19599`: https://github.com/saltstack/salt/pull/19599
.. _`bp-22572`: https://github.com/saltstack/salt/pull/22572
.. _`bp-22806`: https://github.com/saltstack/salt/pull/22806
.. _`bp-24015`: https://github.com/saltstack/salt/pull/24015
.. _`bp-24027`: https://github.com/saltstack/salt/pull/24027
.. _`bp-24083`: https://github.com/saltstack/salt/pull/24083
.. _`bp-24104`: https://github.com/saltstack/salt/pull/24104
